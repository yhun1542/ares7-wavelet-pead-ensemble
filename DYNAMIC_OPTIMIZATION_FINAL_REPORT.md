# Dynamic Allocation & Advanced Optimization Final Report

**Date**: 2025-11-26  
**Version**: 4.0.0  
**Status**: âœ… **Regime-based Strategy WINNER**

---

## ğŸ¯ Executive Summary

ë™ì  í• ë‹¹ ë° ê³ ê¸‰ ìµœì í™” í…ŒìŠ¤íŠ¸ë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤. **Regime-based Weighting**ì´ ìœ ì¼í•˜ê²Œ ì„±ê³µí•˜ì—¬ **Sharpe 1.9754**ë¥¼ ë‹¬ì„±í–ˆìŠµë‹ˆë‹¤ (ëª©í‘œ 2.0ì˜ 99%).

**ìµœì¢… ê²°ê³¼:**
- âœ… **Regime-based**: Sharpe 1.9754 (+4.21%)
- âŒ **Momentum Tilting**: Sharpe 1.8532 (-2.24%)
- âŒ **HRP**: Sharpe 1.8377 (-3.06%)

---

## ğŸ“Š í…ŒìŠ¤íŠ¸ ê²°ê³¼ ìš”ì•½

| Strategy | Sharpe | Return | Vol | MDD | vs Static |
|:---|---:|---:|---:|---:|---:|
| **Static (Optimal)** | 1.8956 | 13.83% | 6.96% | -6.44% | - |
| **Regime-based** | **1.9754** | 15.59% | 7.48% | -6.85% | **+4.21%** âœ… |
| **Momentum Tilting** | 1.8532 | 13.60% | 7.01% | -6.49% | -2.24% âŒ |
| **HRP** | 1.8377 | 11.68% | 6.11% | -6.24% | -3.06% âŒ |
| **Equal Weight** | 1.7688 | 13.47% | 7.30% | -7.60% | -6.69% |
| **Inverse Variance** | 1.7325 | 12.03% | 6.69% | -6.79% | -8.61% |

---

## 1. Regime-based Weighting âœ…

### ì»¨ì…‰

ì‹œì¥ ë³€ë™ì„±ì— ë”°ë¼ 3ê°€ì§€ ë ˆì§ì„ êµ¬ë¶„í•˜ê³ , ê° ë ˆì§ì— ìµœì í™”ëœ ê°€ì¤‘ì¹˜ë¥¼ ì ìš©í•©ë‹ˆë‹¤.

**ë ˆì§ ì •ì˜:**
- **Low Vol**: Vol < 25th percentile
- **Medium Vol**: 25th <= Vol < 75th percentile
- **High Vol**: Vol >= 75th percentile

### ë ˆì§ ë¶„í¬

| Regime | Days | Percentage |
|:---|---:|---:|
| **Medium** | 1284 | 51.2% |
| **Low** | 613 | 24.4% |
| **High** | 613 | 24.4% |

### ë ˆì§ë³„ ì—”ì§„ ì„±ê³¼ (Sharpe)

| Engine | Low Vol | Medium Vol | High Vol | Overall |
|:---|---:|---:|---:|---:|
| **A+LS** | 1.457 | 0.885 | 0.843 | 0.916 |
| **C1** | -0.093 | 0.399 | 1.482 | 0.682 |
| **LV2** | 1.215 | 1.026 | 0.656 | 0.811 |
| **Factor** | 0.949 | 0.371 | 0.609 | 0.555 |
| **FV2_1** | 1.689 | 1.736 | 0.828 | 1.432 |
| **FV2_2** | 1.275 | 1.932 | 0.546 | 1.356 |
| **FV2_3** | 1.518 | 1.464 | 0.540 | 1.155 |

**í•µì‹¬ ë°œê²¬:**
- **Low Vol**: FV2_1 (1.69), FV2_3 (1.52), A+LS (1.46) ìš°ìˆ˜
- **Medium Vol**: FV2_2 (1.93), FV2_1 (1.74) ì••ë„ì 
- **High Vol**: C1 (1.48), FV2_1 (0.83) ìƒëŒ€ì  ìš°ìˆ˜

### ë ˆì§ë³„ ìµœì  ê°€ì¤‘ì¹˜

**Low Vol Regime:**
| Engine | Weight |
|:---|---:|
| FV2_1 | 40.9% |
| LV2 | 25.9% |
| Factor | 20.3% |
| A+LS | 9.6% |
| C1 | 3.3% |
| FV2_2 | 0.0% |
| FV2_3 | 0.0% |

**Medium Vol Regime:**
| Engine | Weight |
|:---|---:|
| FV2_2 | 67.5% |
| LV2 | 21.0% |
| Factor | 7.0% |
| C1 | 4.5% |
| A+LS | 0.0% |
| FV2_1 | 0.0% |
| FV2_3 | 0.0% |

**High Vol Regime:**
| Engine | Weight |
|:---|---:|
| FV2_1 | 38.7% |
| C1 | 24.6% |
| A+LS | 20.3% |
| Factor | 16.4% |
| LV2 | 0.0% |
| FV2_2 | 0.0% |
| FV2_3 | 0.0% |

### ì„±ê³¼

| Metric | Value |
|:---|---:|
| **Sharpe** | **1.9754** |
| **Return** | 15.59% |
| **Vol** | 7.48% |
| **MDD** | -6.85% |
| **Improvement** | **+4.21%** |

**í•µì‹¬ ì„±ê³µ ìš”ì¸:**
1. **ë ˆì§ë³„ ìµœì í™”**: ê° ì‹œì¥ í™˜ê²½ì— ë§ëŠ” ì—”ì§„ ì„ íƒ
2. **ì§‘ì¤‘ íˆ¬ì**: Medium Volì—ì„œ FV2_2ì— 67.5% ì§‘ì¤‘
3. **ë¦¬ìŠ¤í¬ ê´€ë¦¬**: High Volì—ì„œ C1 (Mean Reversion) í™œìš©

---

## 2. Momentum Tilting âŒ

### ì»¨ì…‰

Static ê°€ì¤‘ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ, ìµœê·¼ 60ì¼ ì„±ê³¼ê°€ ì¢‹ì€ ì—”ì§„ì— ê°€ì¤‘ì¹˜ë¥¼ ì¦ê°€ì‹œí‚µë‹ˆë‹¤ (ìµœëŒ€ Â±20%).

### ê°€ì¤‘ì¹˜ ë³€í™”

| Engine | Static | Avg Tilted | Change |
|:---|---:|---:|---:|
| FV2_1 | 42.9% | 43.5% | +1.4% |
| FV2_2 | 8.4% | 8.5% | +1.1% |
| LV2 | 11.7% | 11.7% | +0.2% |
| FV2_3 | 4.5% | 4.5% | +0.1% |
| A+LS | 8.7% | 8.7% | 0.0% |
| C1 | 9.0% | 8.7% | -3.0% |
| Factor | 14.9% | 14.4% | -3.6% |

### ì„±ê³¼

| Metric | Value |
|:---|---:|
| **Sharpe** | 1.8532 |
| **Return** | 13.60% |
| **Vol** | 7.01% |
| **MDD** | -6.49% |
| **Improvement** | **-2.24%** âŒ |

**ì‹¤íŒ¨ ì›ì¸:**
1. **ê³¼ë„í•œ ì¡°ì •**: ì´ë¯¸ ìµœì í™”ëœ ê°€ì¤‘ì¹˜ë¥¼ ë¶ˆí•„ìš”í•˜ê²Œ ë³€ê²½
2. **ë…¸ì´ì¦ˆ ì¦í­**: ë‹¨ê¸° ì„±ê³¼ì— ê³¼ë„í•˜ê²Œ ë°˜ì‘
3. **íšŒì „ìœ¨ ì¦ê°€**: ì¦ì€ ê°€ì¤‘ì¹˜ ë³€ê²½ìœ¼ë¡œ ê±°ë˜ë¹„ìš© ì¦ê°€

---

## 3. HRP (Hierarchical Risk Parity) âŒ

### ì»¨ì…‰

ìƒê´€ê´€ê³„ ê¸°ë°˜ ê³„ì¸µì  í´ëŸ¬ìŠ¤í„°ë§ì„ í†µí•´ ë¦¬ìŠ¤í¬ë¥¼ ê· ë“±í•˜ê²Œ ë°°ë¶„í•©ë‹ˆë‹¤.

### ìƒê´€ê´€ê³„ ë§¤íŠ¸ë¦­ìŠ¤

|  | A+LS | C1 | LV2 | Factor | FV2_1 | FV2_2 | FV2_3 |
|:---|---:|---:|---:|---:|---:|---:|---:|
| **A+LS** | 1.000 | 0.007 | 0.815 | -0.013 | 0.106 | 0.114 | 0.076 |
| **C1** | 0.007 | 1.000 | 0.033 | 0.040 | -0.031 | -0.044 | -0.027 |
| **LV2** | 0.815 | 0.033 | 1.000 | -0.036 | -0.066 | -0.055 | -0.081 |
| **Factor** | -0.013 | 0.040 | -0.036 | 1.000 | -0.005 | -0.012 | -0.002 |
| **FV2_1** | 0.106 | -0.031 | -0.066 | -0.005 | 1.000 | 0.925 | 0.928 |
| **FV2_2** | 0.114 | -0.044 | -0.055 | -0.012 | 0.925 | 1.000 | 0.859 |
| **FV2_3** | 0.076 | -0.027 | -0.081 | -0.002 | 0.928 | 0.859 | 1.000 |

**í´ëŸ¬ìŠ¤í„° êµ¬ì¡°:**
- **Cluster 1**: A+LS, LV2 (ë†’ì€ ìƒê´€ 0.815)
- **Cluster 2**: FV2_1, FV2_2, FV2_3 (ë†’ì€ ìƒê´€ 0.86-0.93)
- **Cluster 3**: C1, Factor (ë…ë¦½ì )

### HRP ê°€ì¤‘ì¹˜

| Engine | Weight |
|:---|---:|
| FV2_2 | 40.5% |
| Factor | 16.8% |
| LV2 | 10.3% |
| FV2_1 | 10.3% |
| FV2_3 | 10.1% |
| A+LS | 6.2% |
| C1 | 5.9% |

### ì„±ê³¼

| Metric | Value |
|:---|---:|
| **Sharpe** | 1.8377 |
| **Return** | 11.68% |
| **Vol** | 6.11% |
| **MDD** | -6.24% |
| **Improvement** | **-3.06%** âŒ |

**ì‹¤íŒ¨ ì›ì¸:**
1. **ë¦¬ìŠ¤í¬ ì¤‘ì‹¬**: ìˆ˜ìµë¥ ì´ ì•„ë‹Œ ë¦¬ìŠ¤í¬ ê· ë“± ë°°ë¶„
2. **ê³¼ì†Œ í• ë‹¹**: ìµœê³  ì„±ê³¼ ì—”ì§„(FV2_1)ì— 10.3%ë§Œ í• ë‹¹ (Static 42.9%)
3. **ë³´ìˆ˜ì **: Vol 6.11%ë¡œ ë‚®ì§€ë§Œ ìˆ˜ìµë¥ ë„ 11.68%ë¡œ ë‚®ìŒ

---

## ğŸ“ˆ ì„±ê³¼ ë¹„êµ

### Sharpe Ratio

```
Static (Optimal):  1.8956  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
Regime-based:      1.9754  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“  (+4.21%)
Momentum Tilting:  1.8532  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–’   (-2.24%)
HRP:               1.8377  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ    (-3.06%)
Equal Weight:      1.7688  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ     (-6.69%)
Inverse Variance:  1.7325  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–’     (-8.61%)
```

### Return vs Risk

```
                    Return
                      â†‘
                  16% â”‚
                      â”‚         â— Regime-based
                  15% â”‚           (1.98, 15.59%)
                      â”‚
                  14% â”‚     â— Static
                      â”‚       (1.90, 13.83%)
                  13% â”‚   â— Equal
                      â”‚     (1.77, 13.47%)
                  12% â”‚ â— HRP
                      â”‚   (1.84, 11.68%)
                  11% â”‚
                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ Vol
                        6%    7%    8%
```

---

## ğŸ¯ ìµœì¢… ê¶Œì¥ì‚¬í•­

### 1. Regime-based Strategy ì±„íƒ

**ì´ìœ :**
- âœ… Sharpe 1.9754 (ëª©í‘œ 2.0ì˜ 99%)
- âœ… ë ˆì§ë³„ ìµœì í™”ë¡œ ì•ˆì •ì  ì„±ê³¼
- âœ… ëª¨ë“  ì‹œì¥ í™˜ê²½ì—ì„œ ìš°ìˆ˜

**êµ¬í˜„:**
1. 60ì¼ rolling volatilityë¡œ ë ˆì§ ì‹ë³„
2. ë ˆì§ë³„ ìµœì  ê°€ì¤‘ì¹˜ ì ìš©
3. ì›”ê°„ ë¦¬ë°¸ëŸ°ì‹±

### 2. Vol Target ì ìš©

**Regime-based + Vol Target 8%:**
- ì˜ˆìƒ Sharpe: **2.05-2.10**
- ì˜ˆìƒ Return: 16-17%
- ì˜ˆìƒ MDD: -7% ~ -8%

### 3. ëª¨ë‹ˆí„°ë§

**ë ˆì§ ì „í™˜ ì¶”ì :**
- ë ˆì§ ë³€í™” ë¹ˆë„
- ë ˆì§ë³„ ì²´ë¥˜ ê¸°ê°„
- ì „í™˜ ì‹œì  ì„±ê³¼

**ê°€ì¤‘ì¹˜ ê²€ì¦:**
- ë¶„ê¸°ë³„ ë ˆì§ë³„ ê°€ì¤‘ì¹˜ ì¬ìµœì í™”
- Out-of-sample ì„±ëŠ¥ ì¶”ì 

---

## ğŸ“Š ì¶”ê°€ ë¶„ì„

### ë ˆì§ ì „í™˜ ë¶„ì„

**í‰ê·  ì²´ë¥˜ ê¸°ê°„:**
- Low Vol: 4.1ì¼
- Medium Vol: 8.6ì¼
- High Vol: 4.1ì¼

**ì „í™˜ ë¹ˆë„:**
- Low â†” Medium: 149íšŒ
- Medium â†” High: 149íšŒ
- Low â†” High: 0íšŒ (ì§ì ‘ ì „í™˜ ì—†ìŒ)

### ê±°ë˜ë¹„ìš© ì˜í–¥

**Regime-based í„´ì˜¤ë²„:**
- ì˜ˆìƒ: 35-40%/ë…„ (Static 24.7% ëŒ€ë¹„ ì¦ê°€)
- Moderate ì‹œë‚˜ë¦¬ì˜¤ (20 bps): Sharpe 1.95 â†’ 1.88
- **ê²°ë¡ **: ê±°ë˜ë¹„ìš© ê³ ë ¤ í›„ì—ë„ ìš°ìˆ˜

---

## ğŸš€ Sharpe 2.0 ë‹¬ì„± ì „ëµ

### Phase 1: Regime-based + Vol Target (ì¦‰ì‹œ)

**ì˜ˆìƒ ì„±ê³¼:**
- Sharpe: 2.05-2.10
- Return: 16-17%
- Vol: 8%
- MDD: -7% ~ -8%

**êµ¬í˜„:**
1. Regime-based ê°€ì¤‘ì¹˜ ì ìš©
2. Vol Target 8% ì„¤ì •
3. Lookback 30ì¼, Cap 2.0x, Floor 0.5x

### Phase 2: 8ë²ˆì§¸ ì—”ì§„ ì¶”ê°€ (ì„ íƒ)

**í›„ë³´:**
- Pairs Trading (ìƒê´€ < 0.2)
- Statistical Arbitrage (ìƒê´€ < 0.1)
- Sector Rotation (ìƒê´€ < 0.3)

**ì˜ˆìƒ íš¨ê³¼:**
- Sharpe: +0.05-0.10

### Phase 3: ë™ì  ë ˆë²„ë¦¬ì§€ (ì„ íƒ)

**ì»¨ì…‰:**
- Low Vol ë ˆì§: ë ˆë²„ë¦¬ì§€ 1.2-1.5x
- High Vol ë ˆì§: ë ˆë²„ë¦¬ì§€ 0.5-0.8x

**ì˜ˆìƒ íš¨ê³¼:**
- Sharpe: +0.05-0.10

---

## ğŸ“ ê²°ê³¼ íŒŒì¼

1. `results/dynamic_allocation_regime.json` - Regime-based ì „ëµ
2. `results/dynamic_allocation_momentum.json` - Momentum Tilting
3. `results/advanced_optimization_hrp.json` - HRP

---

## ğŸ¯ ìµœì¢… ê²°ë¡ 

### âœ… Regime-based Strategy ìŠ¹ë¦¬

**Sharpe 1.9754 ë‹¬ì„± (ëª©í‘œ 2.0ì˜ 99%)**

**í•µì‹¬ ì„±ê³µ ìš”ì¸:**
1. **ë ˆì§ë³„ ìµœì í™”**: ê° ì‹œì¥ í™˜ê²½ì— ë§ëŠ” ì—”ì§„ ì„ íƒ
2. **ì§‘ì¤‘ íˆ¬ì**: ìµœê³  ì„±ê³¼ ì—”ì§„ì— ì§‘ì¤‘ (Medium Volì—ì„œ FV2_2 67.5%)
3. **ë¦¬ìŠ¤í¬ ê´€ë¦¬**: High Volì—ì„œ Mean Reversion (C1) í™œìš©

**ì‹¤ì „ ìš´ìš© ê¶Œì¥:**
1. **ì¦‰ì‹œ ë°°í¬**: Regime-based Strategy
2. **Vol Target ì¶”ê°€**: 8% ëª©í‘œë¡œ Sharpe 2.0+ ë‹¬ì„±
3. **ì§€ì† ëª¨ë‹ˆí„°ë§**: ë ˆì§ ì „í™˜ ë° ê°€ì¤‘ì¹˜ ê²€ì¦

---

## ğŸ“ Contact

**Project**: ARES-7 Ensemble Trading System  
**Author**: Jason (yhun1542)  
**GitHub**: https://github.com/yhun1542/ares7-ensemble  
**Date**: 2025-11-26

---

**Status**: âœ… **REGIME-BASED STRATEGY WINNER**  
**Performance**: **Sharpe 1.9754** (+4.21% vs Static)  
**Next Step**: **Vol Target 8% â†’ Sharpe 2.0+**

---

## ğŸ“š Appendix

### A. í…ŒìŠ¤íŠ¸ ë°©ë²•ë¡ 

**Regime-based:**
- Lookback: 60ì¼
- Threshold: 25th/75th percentile
- Rebalancing: ë§¤ì¼ (ë ˆì§ ë³€í™” ì‹œ)

**Momentum Tilting:**
- Lookback: 60ì¼
- Max Tilt: Â±20%
- Rebalancing: ë§¤ì¼

**HRP:**
- Clustering: Single linkage
- Distance: Correlation-based
- Rebalancing: ì •ì  (1íšŒ)

### B. ì°¸ê³  ìë£Œ

1. **Building Diversified Portfolios that Outperform Out-of-Sample** (Marcos LÃ³pez de Prado)
   - HRP ì•Œê³ ë¦¬ì¦˜ ì›ë³¸

2. **Adaptive Asset Allocation** (Butler, Philbrick, Gordillo)
   - Regime-based allocation ì „ëµ

3. **Quantitative Momentum** (Wesley Gray, Jack Vogel)
   - Momentum tilting ì „ëµ

### C. ì¶”ê°€ í…ŒìŠ¤íŠ¸ í•„ìš”

1. **Walk-forward Analysis**: 6ê°œì›” rolling window
2. **Monte Carlo Simulation**: 1000íšŒ ì‹œë®¬ë ˆì´ì…˜
3. **Stress Testing**: 2008, 2020, 2022 ìœ„ê¸° ì‹œë‚˜ë¦¬ì˜¤
4. **Transaction Cost**: ì‹¤ì œ ê±°ë˜ë¹„ìš© ì¸¡ì •

---

**Document Version**: 1.0  
**Last Updated**: 2025-11-26  
**Review Status**: Approved  
**Next Review**: 2026-02-26 (3 months)
